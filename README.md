# Xray Subscription Parser & Config Generator

<div>
<pre align="center">
<img src="https://avatars.githubusercontent.com/u/71564206?s=200&v=4" alt="Xray Logo" width="150"/>
███████╗██╗   ██╗██████╗ ██╗  ██╗██████╗  █████╗ ██╗   ██╗
██╔════╝██║   ██║██╔══██╗╚██╗██╔╝██╔══██╗██╔══██╗╚██╗ ██╔╝
███████╗██║   ██║██████╔╝ ╚███╔╝ ██████╔╝███████║ ╚████╔╝ 
╚════██║██║   ██║██╔══██╗ ██╔██╗ ██╔══██╗██╔══██║  ╚██╔╝  
███████║╚██████╔╝██████╔╝██╔╝ ██╗██║  ██║██║  ██║   ██║   
╚══════╝ ╚═════╝ ╚═════╝ ╚═╝  ╚═╝╚═╝  ╚═╝╚═╝  ╚═╝   ╚═╝   
</pre>

<p align="center">
  A simple, powerful command-line tool to fetch proxy configurations from subscription links and convert them into individual JSON files for Xray-core.
</p>
</div>

---

## What is this?

This project was born out of the frustration of manually converting proxy share links (like those for VLESS, VMess, Trojan, etc.) into the JSON format required by command-line clients and servers. I got tired of the tedious copy-pasting, and figured others were too.

This tool automates the entire process. It takes a subscription URL, fetches all the share links, intelligently parses each one, and saves it as a properly formatted `outbound` JSON configuration file. It's designed to be a universal tool that supports a wide variety of protocols and transport settings, including `REALITY`.

## How It Works: The Main Config & Your Outbounds

This repository provides more than just a parser; it offers a complete setup for a high-performance, resilient connection. The JSON files generated by this tool are **outbound configurations only**. They are designed to be used with the main configuration files provided here.

This modular approach means you can generate dozens of outbound configs and the main config will load them all automatically.

### The Main Configuration Files

The main config is split into two parts to keep things organized:

1.  `common.json`: This file contains all the common boilerplate stuff—inbounds, basic DNS settings, etc.
2.  `leastPing.json` (The Magic Part): This file contains the advanced routing logic. It uses Xray's **[Observatory](https://xtls.github.io/config/observatory.html)** and **[Routing Balancer](https://xtls.github.io/config/routing.html)** to automatically test all your servers and route your traffic through the one with the lowest latency. If the fastest server goes down, it seamlessly switches to the next fastest one. Because waiting for pages to load is almost as bad as waiting for a certain regime to fall.

To create your final `config.json`, you will combine the contents of these two files.

## How to Use

You have two options: use the pre-compiled executable for simplicity, or run the script directly with Python for more flexibility.

### Option 1: Download the Executable (Recommended)

This is the easiest way. No need to install Python or any dependencies.

1.  Go to the [**Releases**](https://github.com/saniyar-dev/subxray/releases) page of this repository.
2.  Download the executable (`subxray`).
3.  Download the `common.json` and `leastPing.json` files as well.
4.  Open your terminal, navigate to where you downloaded the files, and run the parser tool:

    **Basic Usage:**
    ```bash
    ./subxray-linux "YOUR_SUBSCRIPTION_URL"
    ```

    **To omit the first link** (often a usage stats link):
    ```bash
    ./subxray-macos --omit-first "YOUR_SUBSCRIPTION_URL"
    ```

5.  Start Xray with the command `xray run -confdir .`. It will automatically load all your servers at the same time!

### Option 2: Run with Python (For developers)

1.  Make sure you have Python 3.6+ installed.
2.  Clone this repository:
    ```bash
    git clone [https://github.com/saniyar-dev/subxray.git](https://github.com/saniyar-dev/subxray.git)
    cd subxray
    ```
3.  Install the required dependency:
    ```bash
    pip install -r requirements.txt
    ```
4.  Follow steps 4 and 5 from Option 1, but run the script using `python`:
    ```bash
    python fetch_and_parse.py "YOUR_SUBSCRIPTION_URL"
    ```

## Use Cases

This tool is useful for anyone who:
-   Runs Xray-core on a server or router and needs to quickly add new configurations.
-   Wants a resilient connection that automatically uses the fastest server.
-   Uses command-line clients that require JSON configuration files.
-   Wants to automate the process of updating a large number of proxy configurations.
-   Needs to inspect or debug the underlying parameters of a share link.

## Contribution Guide

Contributions are what make the open-source community such an amazing place to learn, inspire, and create. Any contributions you make are **greatly appreciated**.

1.  **Fork the Project:** Click the 'Fork' button at the top right of this page.
2.  **Create your Feature Branch:**
    ```bash
    git checkout -b feature/AmazingFeature
    ```
3.  **Commit your Changes:**
    ```bash
    git commit -m 'Add some AmazingFeature'
    ```
4.  **Push to the Branch:**
    ```bash
    git push origin feature/AmazingFeature
    ```
5.  **Open a Pull Request:** Go back to the original repository on GitHub and click the 'New pull request' button.

You can also open an [issue](https://github.com/saniyar-dev/subxray/issues) to report a bug or suggest a new feature.

---

## A Hope for a Free Internet

<p align="center">
This tool is built on the principle of open access to information. We stand in solidarity with the people of Iran and everyone around the world fighting for digital freedom.
</p>
<p align="center">
<strong>To a free and unfiltered internet for all. #FreeInternetForIran</strong>
</p>

